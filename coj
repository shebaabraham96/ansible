- setup:
  register: facts
  ignore_errors: yes

- name: getting hostname details
  shell: hostname
  register: server_hostname
  ignore_errors: yes
- debug: msg="{{ server_hostname.stdout_lines }}"

- name: getting os-version
  shell: cat /etc/os-release
  become: yes
  register: os_release
  ignore_errors: yes   
- debug: msg="{{ os_release.stdout_lines }}"

 
- template:
    src: configuration.j2
    dest: /etc/ansible/output/configuration.json
